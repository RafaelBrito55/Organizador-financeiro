<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">

  <title>Meu Dinheiro na Conta – Acesso</title>

  <!-- SEO básico -->
  <meta name="description"
        content="Meu Dinheiro na Conta – controle financeiro anual simples, rápido e direto. Registre ganhos, gastos, acompanhe gráficos e veja quanto realmente sobra no fim do ano. 100% gratuito.">

  <meta name="keywords"
        content="controle financeiro, organizar finanças, gastos, ganhos, orçamento anual, finanças pessoais, planilha financeira, controle de gastos, gráfico de gastos">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- AdSense (verificação/ads automáticos) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6124393666586707"
     crossorigin="anonymous"></script>

  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="auth-shell">
    <header class="auth-header">
      <div class="brand">
        <div class="brand-logo">⬆</div>
        <div class="brand-text">
          <div class="brand-title">Meu Dinheiro</div>
          <div class="brand-sub">na Conta</div>
        </div>
      </div>
      <a class="auth-back" href="index.html">Voltar</a>
    </header>

    <main class="auth-main">
      <div class="auth-card">
        <h1>Acesso</h1>
        <p class="muted">Entre com sua conta ou crie uma nova. É grátis.</p>

        <div class="tabs">
          <button type="button" class="tab-btn active" id="tabLogin">Entrar</button>
          <button type="button" class="tab-btn" id="tabSignup">Criar conta</button>
        </div>

        <div class="tab-content" id="loginBox">
          <label>E-mail</label>
          <input type="email" id="loginEmail" placeholder="seuemail@exemplo.com">

          <label>Senha</label>
          <input type="password" id="loginPassword" placeholder="********">

          <button type="button" id="btnLogin" class="btn-primary">Entrar</button>

          <button type="button" id="btnReset" class="btn-link">Esqueci minha senha</button>

          <p id="loginStatus" class="muted status"></p>
        </div>

        <div class="tab-content hidden" id="signupBox">
          <label>E-mail</label>
          <input type="email" id="signupEmail" placeholder="seuemail@exemplo.com">

          <label>Senha</label>
          <input type="password" id="signupPassword" placeholder="Crie uma senha">

          <button type="button" id="btnSignup" class="btn-primary">Criar conta</button>

          <p id="signupStatus" class="muted status"></p>
        </div>
      </div>
    </main>

    <footer class="auth-footer">
      <span>© Meu Dinheiro na Conta • 100% grátis</span>
    </footer>
  </div>

  <!-- Firebase + Auth -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>

  <!-- Config Firebase (seu arquivo) -->
  <script src="firebase-config.js"></script>

  <script>
    // Tabs
    const tabLogin = document.getElementById("tabLogin");
    const tabSignup = document.getElementById("tabSignup");
    const loginBox = document.getElementById("loginBox");
    const signupBox = document.getElementById("signupBox");

    tabLogin.addEventListener("click", () => {
      tabLogin.classList.add("active");
      tabSignup.classList.remove("active");
      loginBox.classList.remove("hidden");
      signupBox.classList.add("hidden");
    });

    tabSignup.addEventListener("click", () => {
      tabSignup.classList.add("active");
      tabLogin.classList.remove("active");
      signupBox.classList.remove("hidden");
      loginBox.classList.add("hidden");
    });

    // Auth
    const auth = firebase.auth();

    const loginEmail = document.getElementById("loginEmail");
    const loginPassword = document.getElementById("loginPassword");
    const loginStatus = document.getElementById("loginStatus");

    const signupEmail = document.getElementById("signupEmail");
    const signupPassword = document.getElementById("signupPassword");
    const signupStatus = document.getElementById("signupStatus");

    document.getElementById("btnLogin").addEventListener("click", async () => {
      loginStatus.textContent = "Entrando...";
      try {
        await auth.signInWithEmailAndPassword(loginEmail.value.trim(), loginPassword.value);
        loginStatus.textContent = "OK! Redirecionando...";
        window.location.href = "index.html";
      } catch (err) {
        loginStatus.textContent = "Erro: " + (err?.message || err);
      }
    });

    document.getElementById("btnSignup").addEventListener("click", async () => {
      signupStatus.textContent = "Criando conta...";
      try {
        await auth.createUserWithEmailAndPassword(signupEmail.value.trim(), signupPassword.value);
        signupStatus.textContent = "Conta criada! Redirecionando...";
        window.location.href = "index.html";
      } catch (err) {
        signupStatus.textContent = "Erro: " + (err?.message || err);
      }
    });

    document.getElementById("btnReset").addEventListener("click", async () => {
      const email = loginEmail.value.trim();
      if (!email) {
        loginStatus.textContent = "Digite seu e-mail para recuperar a senha.";
        return;
      }
      loginStatus.textContent = "Enviando link de recuperação...";
      try {
        await auth.sendPasswordResetEmail(email);
        loginStatus.textContent = "Enviado! Verifique seu e-mail.";
      } catch (err) {
        loginStatus.textContent = "Erro: " + (err?.message || err);
      }
    });
  </script>

</body>
</html>
