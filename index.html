<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />

  <title>Meu Dinheiro na Conta – Controle Financeiro</title>

  <!-- SEO básico -->
  <meta name="description"
        content="Meu Dinheiro na Conta – controle financeiro anual simples, rápido e direto. Registre ganhos, gastos, acompanhe gráficos e veja quanto realmente sobra no fim do ano. 100% gratuito.">
  <meta name="keywords"
        content="controle financeiro, organizar finanças, gastos, ganhos, orçamento anual, finanças pessoais, planilha financeira, controle de gastos, gráfico de gastos">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- AdSense (verificação/ads automáticos) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6124393666586707"
     crossorigin="anonymous"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- JS da aplicação -->
  <script src="app.js" defer></script>
</head>
<body>
  <div class="app-shell">

    <header class="top-header">
      <div class="top-left">
        <div class="brand">
          <div class="brand-logo">⬆</div>
          <div class="brand-text">
            <div class="brand-title">Meu Dinheiro</div>
            <div class="brand-sub">na Conta</div>
          </div>
        </div>
      </div>

      <div class="top-right">
        <nav class="top-nav">
          <button class="nav-btn" type="button" data-open-modal="privacyModal">Privacidade</button>
          <button class="nav-btn" type="button" data-open-modal="termsModal">Termos</button>
          <button class="nav-btn" type="button" data-open-modal="contactModal">Contato</button>
        </nav>
      </div>
    </header>

    <header class="main-header">
      <div class="title-group">
        <h1>Controle Financeiro Anual</h1>
        <p>Lança ganhos e gastos, corrige se precisar, e vê o resumo do ano.</p>
      </div>

      <div class="year-select">
        <span>Ano:</span>
        <select id="yearSelect"></select>
        <button type="button" id="btnAddYear" class="btn-year">+ Ano</button>
      </div>
    </header>

    <main>
      <section class="panel">
        <h2>Ganhos</h2>

        <div class="grid-2">
          <div class="form-block">
            <label>Mês</label>
            <select id="incomeMonth"></select>
          </div>

          <div class="form-block">
            <label>Categoria</label>
            <select id="incomeCategory">
              <option value="Salário">Salário</option>
              <option value="Renda extra">Renda extra</option>
              <option value="Décimo terceiro">Décimo terceiro</option>
              <option value="Férias">Férias</option>
              <option value="Outros ganhos">Outros ganhos</option>
            </select>
          </div>

          <div class="form-block">
            <label>Descrição (opcional)</label>
            <input id="incomeDesc" type="text" placeholder="Ex: salário empresa X" />
          </div>

          <div class="form-block">
            <label>Valor</label>
            <input id="incomeValue" type="text" inputmode="decimal" placeholder="Ex: 2500,00" />
          </div>
        </div>

        <button type="button" id="btnAddIncome" class="btn-primary">Adicionar ganho</button>

        <div class="list-block">
          <h3>Lançamentos</h3>
          <div id="incomeList" class="list"></div>
        </div>
      </section>

      <section class="panel">
        <h2>Gastos</h2>

        <div class="grid-2">
          <div class="form-block">
            <label>Mês</label>
            <select id="expenseMonth"></select>
          </div>

          <div class="form-block">
            <label>Categoria</label>
            <select id="expenseCategory">
              <option value="Aluguel">Aluguel</option>
              <option value="Supermercado">Supermercado</option>
              <option value="Combustível">Combustível</option>
              <option value="Despesa fixa">Despesa fixa</option>
              <option value="Cartão de crédito">Cartão de crédito</option>
              <option value="Saúde">Saúde</option>
              <option value="Educação">Educação</option>
              <option value="Lazer">Lazer</option>
              <option value="Impostos">Impostos</option>
              <option value="Outros gastos">Outros gastos</option>
            </select>
          </div>

          <div class="form-block">
            <label>Descrição (opcional)</label>
            <input id="expenseDesc" type="text" placeholder="Ex: aluguel dezembro" />
          </div>

          <div class="form-block">
            <label>Valor</label>
            <input id="expenseValue" type="text" inputmode="decimal" placeholder="Ex: 120,00" />
          </div>
        </div>

        <button type="button" id="btnAddExpense" class="btn-primary">Adicionar gasto</button>

        <div class="list-block">
          <h3>Lançamentos</h3>
          <div id="expenseList" class="list"></div>
        </div>
      </section>

      <section class="panel">
        <h2>Resumo</h2>

        <div class="summary-grid">
          <div class="summary-card">
            <div class="summary-label">Total de ganhos</div>
            <div id="totalIncome" class="summary-value">R$ 0,00</div>
          </div>

          <div class="summary-card">
            <div class="summary-label">Total de gastos</div>
            <div id="totalExpense" class="summary-value">R$ 0,00</div>
          </div>

          <div class="summary-card">
            <div class="summary-label">Saldo do ano</div>
            <div id="totalBalance" class="summary-value">R$ 0,00</div>
          </div>
        </div>
      </section>

      <section class="panel">
        <h2>Gráficos</h2>
        <p class="muted">Visão rápida por categoria e mês</p>

        <div class="charts-grid">
          <div class="chart-card">
            <h3>Gastos por categoria (barra)</h3>
            <canvas id="chartExpenseCategory"></canvas>
          </div>

          <div class="chart-card">
            <h3>Ganhos x Gastos (linha)</h3>
            <canvas id="chartIncomeExpense"></canvas>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>© Meu Dinheiro na Conta • 100% grátis</span>
      <a href="acesso.html" class="footer-link">Acessar / Criar conta</a>
    </footer>

  </div>

  <!-- Modais -->
  <div class="modal-backdrop" id="privacyModal" aria-hidden="true">
    <div class="modal">
      <div class="modal-header">
        <h3>Privacidade</h3>
        <button class="modal-close" type="button" data-close-modal>×</button>
      </div>
      <div class="modal-body">
        <p>Seu controle financeiro é pessoal. Este site armazena apenas os dados necessários para você usar a ferramenta.</p>
        <p>Não vendemos seus dados, não repassamos para terceiros e você pode apagar seus registros quando quiser.</p>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="termsModal" aria-hidden="true">
    <div class="modal">
      <div class="modal-header">
        <h3>Termos</h3>
        <button class="modal-close" type="button" data-close-modal>×</button>
      </div>
      <div class="modal-body">
        <p>O Meu Dinheiro na Conta é uma ferramenta gratuita e sem garantia de resultados financeiros.</p>
        <p>Use por sua conta e risco. Se encontrar bugs ou quiser sugerir melhorias, fale com a gente no contato.</p>
      </div>
    </div>
  </div>

  <div class="modal-backdrop" id="contactModal" aria-hidden="true">
    <div class="modal">
      <div class="modal-header">
        <h3>Contato</h3>
        <button class="modal-close" type="button" data-close-modal>×</button>
      </div>
      <div class="modal-body">
        <p>Envie dúvidas, sugestões ou problemas:</p>

        <form id="contactForm">
          <label>Seu nome (opcional)</label>
          <input id="contactName" type="text" placeholder="Ex: Rafael" />

          <label>Mensagem</label>
          <textarea id="contactMessage" rows="5" placeholder="Digite aqui sua dúvida ou sugestão..."></textarea>

          <button type="submit" class="btn-primary">Enviar</button>
          <p id="contactStatus" class="muted" style="margin-top: 10px;"></p>
        </form>
      </div>
    </div>
  </div>

  <!-- Script simples pra abrir/fechar modais -->
  <script>
    (function () {
      const openButtons = document.querySelectorAll("[data-open-modal]");
      const closeButtons = document.querySelectorAll("[data-close-modal]");
      const backdrops = document.querySelectorAll(".modal-backdrop");

      function openModal(id) {
        const el = document.getElementById(id);
        if (!el) return;
        el.classList.add("show");
        el.setAttribute("aria-hidden", "false");
      }

      function closeModal(el) {
        el.classList.remove("show");
        el.setAttribute("aria-hidden", "true");
      }

      openButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          openModal(btn.getAttribute("data-open-modal"));
        });
      });

      closeButtons.forEach(btn => {
        btn.addEventListener("click", () => {
          const backdrop = btn.closest(".modal-backdrop");
          if (backdrop) closeModal(backdrop);
        });
      });

      backdrops.forEach(b => {
        b.addEventListener("click", (e) => {
          if (e.target === b) closeModal(b);
        });
      });

      // Form contato (só feedback visual local)
      const contactForm = document.getElementById("contactForm");
      if (contactForm) {
        contactForm.addEventListener("submit", (e) => {
          e.preventDefault();
          const status = document.getElementById("contactStatus");
          if (status) status.textContent = "Mensagem preparada. (No momento, esta versão não envia e-mail automaticamente.)";
        });
      }
    })();
  </script>
</body>
</html>
